{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\risha\\\\Desktop\\\\ITLAB\\\\Netflix\\\\src\\\\components\\\\WhereToWatch.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport requests from \"../utils/requests\";\nimport functions from \"../utils/functions\";\nimport Provider from \"./Provider\";\nimport values from \"../utils/values\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction WhereToWatch({\n  id,\n  location,\n  type\n}) {\n  _s();\n\n  const {\n    urls,\n    api\n  } = requests;\n  const [watchLocation, setWatchLocation] = useState(location);\n  const [providers, setProviders] = useState([]);\n  const [loaded, setLoaded] = useState(false);\n  const [providerArray, setProviderArray] = useState([]);\n  useEffect(() => {\n    async function getProviders() {\n      let url = urls.watchProviders;\n      url = url.replace(\"<type>\", type);\n      url = url.replace(\"<TV_ID>\", id);\n      const response = await api.get(url);\n      setProviders(response.data.results);\n      setLoaded(true);\n\n      if (loaded && !functions.objectEmpty(providers)) {\n        if (providers[watchLocation] == null) {\n          setWatchLocation(Object.keys(providers)[0]);\n        }\n      }\n\n      if (loaded && !functions.objectEmpty(providers) && providers[watchLocation] != null) {\n        let keys = Object.keys(providers[watchLocation]);\n        let set = new Set();\n        let seen = [];\n        keys.map(k => {\n          if (k != \"link\") {\n            providers[watchLocation][k].map(p => {\n              if (!seen.includes(p.provider_name)) {\n                set.add({\n                  name: p.provider_name,\n                  logo_path: p.logo_path\n                });\n              }\n\n              seen.push(p.provider_name);\n            });\n          }\n        });\n        setProviderArray([...set]);\n      }\n    }\n\n    getProviders();\n  }, [loaded, watchLocation]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [loaded && !functions.objectEmpty(providers) && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Your Location:\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"select\", {\n        value: watchLocation,\n        className: \"dropdown\",\n        onChange: e => setWatchLocation(e.target.value),\n        children: Object.keys(providers).map(country => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: country,\n          children: country\n        }, country, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 8\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [!functions.objectEmpty(providers) ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"You can watch it on:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No providers known\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        children: loaded && providerArray.map(p => /*#__PURE__*/_jsxDEV(Provider, {\n          data: p\n        }, p.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 8\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 3\n  }, this);\n}\n\n_s(WhereToWatch, \"bfSbKtAozdPxGYTSN4kQJR2sAMs=\");\n\n_c = WhereToWatch;\nexport default WhereToWatch;\n\nvar _c;\n\n$RefreshReg$(_c, \"WhereToWatch\");","map":{"version":3,"sources":["C:/Users/risha/Desktop/ITLAB/Netflix/src/components/WhereToWatch.jsx"],"names":["React","useEffect","useState","requests","functions","Provider","values","WhereToWatch","id","location","type","urls","api","watchLocation","setWatchLocation","providers","setProviders","loaded","setLoaded","providerArray","setProviderArray","getProviders","url","watchProviders","replace","response","get","data","results","objectEmpty","Object","keys","set","Set","seen","map","k","p","includes","provider_name","add","name","logo_path","push","e","target","value","country","display"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport requests from \"../utils/requests\";\r\nimport functions from \"../utils/functions\";\r\n\r\nimport Provider from \"./Provider\";\r\nimport values from \"../utils/values\";\r\n\r\nfunction WhereToWatch({ id, location, type }) {\r\n\tconst { urls, api } = requests;\r\n\r\n\tconst [watchLocation, setWatchLocation] = useState(location);\r\n\tconst [providers, setProviders] = useState([]);\r\n\tconst [loaded, setLoaded] = useState(false);\r\n\tconst [providerArray, setProviderArray] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function getProviders() {\r\n\t\t\tlet url = urls.watchProviders;\r\n\t\t\turl = url.replace(\"<type>\", type);\r\n\t\t\turl = url.replace(\"<TV_ID>\", id);\r\n\r\n\t\t\tconst response = await api.get(url);\r\n\r\n\t\t\tsetProviders(response.data.results);\r\n\t\t\tsetLoaded(true);\r\n\r\n\t\t\tif (loaded && !functions.objectEmpty(providers)) {\r\n\t\t\t\tif (providers[watchLocation] == null) {\r\n\t\t\t\t\tsetWatchLocation(Object.keys(providers)[0]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (\r\n\t\t\t\tloaded &&\r\n\t\t\t\t!functions.objectEmpty(providers) &&\r\n\t\t\t\tproviders[watchLocation] != null\r\n\t\t\t) {\r\n\t\t\t\tlet keys = Object.keys(providers[watchLocation]);\r\n\t\t\t\tlet set = new Set();\r\n\t\t\t\tlet seen = [];\r\n\r\n\t\t\t\tkeys.map((k) => {\r\n\t\t\t\t\tif (k != \"link\") {\r\n\t\t\t\t\t\tproviders[watchLocation][k].map((p) => {\r\n\t\t\t\t\t\t\tif (!seen.includes(p.provider_name)) {\r\n\t\t\t\t\t\t\t\tset.add({\r\n\t\t\t\t\t\t\t\t\tname: p.provider_name,\r\n\t\t\t\t\t\t\t\t\tlogo_path: p.logo_path,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tseen.push(p.provider_name);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tsetProviderArray([...set]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tgetProviders();\r\n\t}, [loaded, watchLocation]);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{loaded && !functions.objectEmpty(providers) && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\tYour Location:&nbsp;&nbsp;\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tvalue={watchLocation}\r\n\t\t\t\t\t\tclassName=\"dropdown\"\r\n\t\t\t\t\t\tonChange={(e) => setWatchLocation(e.target.value)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{Object.keys(providers).map((country) => (\r\n\t\t\t\t\t\t\t<option value={country} key={country}>\r\n\t\t\t\t\t\t\t\t{country}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<br />\r\n\t\t\t<div>\r\n\t\t\t\t{!functions.objectEmpty(providers) ? (\r\n\t\t\t\t\t<p>You can watch it on:</p>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p>No providers known</p>\r\n\t\t\t\t)}\r\n\t\t\t\t<br />\r\n\t\t\t\t<div style={{ display: \"flex\" }}>\r\n\t\t\t\t\t{loaded &&\r\n\t\t\t\t\t\tproviderArray.map((p) => (\r\n\t\t\t\t\t\t\t<Provider key={p.name} data={p} />\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default WhereToWatch;\r\n"]},"metadata":{},"sourceType":"module"}